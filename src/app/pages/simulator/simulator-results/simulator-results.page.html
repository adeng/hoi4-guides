<ion-header [translucent]="true">
	<ion-toolbar *ngIf="!loading">
		<ion-buttons slot="start">
			<ion-back-button></ion-back-button>
		</ion-buttons>
		<ion-title>Combat Simulator</ion-title>
	</ion-toolbar>
</ion-header>

<ion-content>
	<ion-header collapse="condense" *ngIf="!loading">
		<ion-toolbar>
			<ion-title size="large">Combat Simulator</ion-title>
		</ion-toolbar>
	</ion-header>

	<!-- Loading -->
	<div id="container" *ngIf="loading">
		<ion-spinner color="secondary"></ion-spinner>
		<p>Calculating combat results...</p>
	</div>

	<!-- Other -->
	<ion-card *ngIf="!loading">
		<ion-card-header>
			<ion-card-subtitle>Divisions</ion-card-subtitle>
		</ion-card-header>
		<ion-card-content>
			<ion-grid>
				<ion-row class="header-list">
					<ion-col>
						<ion-label>{{attacker.name}}</ion-label>
					</ion-col>
					<ion-col>
						<ion-label>vs</ion-label>
					</ion-col>
					<ion-col>
						<ion-label>{{defender.name}}</ion-label>				
					</ion-col>
				</ion-row>
				<ion-row class="header-list">
					<ion-col>
						<p>{{attacker.type}} Division</p>
					</ion-col>
					<ion-col>
					</ion-col>
					<ion-col>
						<p>{{attacker.type}} Division</p>					
					</ion-col>
				</ion-row>
			</ion-grid>
		</ion-card-content>
	</ion-card>

	<ion-card *ngIf="!loading">
		<ion-card-header>
			<ion-card-subtitle>Win Percentage</ion-card-subtitle>
		</ion-card-header>
		<ion-card-content>
			<div class="win-chart">
				<canvas baseChart
						[data]="winChartData"
						[type]="winChartType"
						[options]="winChartOptions"></canvas>
			</div>
			<p>Attacker wins {{winPercentage}}% of the time.</p>
		</ion-card-content>
	</ion-card>

	<ion-card *ngIf="!loading">
		<ion-card-header>
			<ion-card-subtitle>Post-Battle Results</ion-card-subtitle>
		</ion-card-header>
		<ion-card-content>
			<div class="stat-chart">
				<canvas baseChart
						[data]="statChartData"
						[type]="statChartType"
						[options]="statChartOptions"></canvas>
			</div>
		</ion-card-content>
		<ion-grid>
			<ion-row>
				<ion-col>
					<ion-list class="win-list">
						<ion-item lines="inset">
							<ion-label class="win-list-header">Attacker</ion-label>
						</ion-item>
						<ion-item lines="inset">
							<ion-label>Remaining HP</ion-label>
							<ion-note>50%</ion-note>
						</ion-item>
						<ion-item lines="none">
							<ion-label>Remaining Org</ion-label>
							<ion-note>50%</ion-note>
						</ion-item>
					</ion-list>
				</ion-col>
				<ion-col>
					<ion-list class="win-list">
						<ion-item lines="inset">
							<ion-label class="win-list-header">Defender</ion-label>
						</ion-item>
						<ion-item lines="inset">
							<ion-label>Remaining HP</ion-label>
							<ion-note>50%</ion-note>
						</ion-item>
						<ion-item lines="none">
							<ion-label>Remaining Org</ion-label>
							<ion-note>50%</ion-note>
						</ion-item>
					</ion-list>				
				</ion-col>
			</ion-row>
		</ion-grid>
	</ion-card>
</ion-content>