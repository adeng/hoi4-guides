<ion-header [translucent]="true">
	<ion-toolbar>
		<ion-buttons slot="start">
			<ion-menu-button></ion-menu-button>
		</ion-buttons>
		<ion-title>Update Equipment</ion-title>
	</ion-toolbar>
</ion-header>

<ion-content>
	<div class="description">
		<p><strong>Set Equipment</strong></p>
		<p>Choose the type of equipment for this regiment's need.</p>
	</div>
	<ion-card class="container">
		<ion-card-header>
			<strong>Update Equipment</strong>
		</ion-card-header>
		<ion-card-content>
			<ion-list>
				<ion-item
					*ngFor="let archetype of archetypeMap.get(regiments[currentRegiment].regiment.regiment_id); let i = index"
					[lines]="i == archetypeMap.get(regiments[currentRegiment].regiment.regiment_id).length - 1 ? 'none' : 'inset'">
					<ion-label>
						{{archetype.archetype_name}}
					</ion-label>
					<ion-select [(ngModel)]="localResults[i]" (ionChange)="segmentChanged($event)">
						<ion-select-option *ngFor="let equipment of localEquipmentMap[i]"
							[value]="equipment.equipment_id">{{equipment.equipment_name}} ({{equipment.year}})
						</ion-select-option>
					</ion-select>
				</ion-item>
			</ion-list>
		</ion-card-content>
	</ion-card>

	<ion-fab vertical="bottom" horizontal="end" slot="fixed">
		<ion-fab-button (click)="dismiss()">
			<ion-icon name="save"></ion-icon>
		</ion-fab-button>
	</ion-fab>
</ion-content>